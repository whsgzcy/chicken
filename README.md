![MacDown Screenshot](https://github.com/whsgzcy/chicken/blob/master/imgae/android_start.png)

## 1、什么是进程 什么是线程

这个问题我想工作五六年的人都不一定能答出来，但刚出来工作的人一定和百度上搜索的答得一致，是对的，但五年之后，当时的答案真的是对的吗？

因为我之前对这个的理解是错的，当我去理解Android源码的时候，逻辑总是对不上，所以开头以这张图片做标题，这个理解了，一些诸如内存泄露等问题的本质就可以迎刃而解了。

那被问到什么是进程什么是线程时，下述回答，至少不会失水准，后面更进一步的答案也需要我们不断的去思考

**线程共享进程的内存单元**

**解读**

在解读前，我们需要有以下准备

1、 Android是一个组件化的设计，这里的组件可不是我们的UI组件，或者说Android是一个弱化进程的设计，所以 四大组件 Activity Service BroadCast ContentProvider 他们既不是进程也不是线程，他们是组件，例如BroadCast，它是怎么通信的，读完源码其实是很简单的，他们是在Java Fragmentwork 中被设计用来服务于Application，管理他们的是Java Fragmentwork中各个单例，所以，内存泄露的本质就是当前线程在当前组件回收前没有被销毁。

2、基础建设永不变，这话是我朋友说的，网上什么xxx框架，被人封装了一下，感觉很高大上，导致自己写的基础代码都没那么自信，其实都是一样的，最高明的做法是，既然需要用到某一个框架，那只把框架里面核心的代码拿过来用就可以了，不必要整体导包。

3、站在巨人的肩膀而不是膀胱

**进程和线程**

当某个应用组件启动且该应用没有运行其他任何组件时，Android 系统会使用单个执行线程为应用启动新的 Linux 进程。默认情况下，同一应用的所有组件在相同的进程和线程（称为“主”线程）中运行。 

```
这里，在相同的进程中运行 相同的进程 指的就是主线程，那么问题来了，组件是在哪个或者什么样的线程中运行？？？
```

如果某个应用组件启动且该应用已存在进程（因为存在该应用的其他组件），则该组件会在此进程内启动并使用相同的执行线程。 但是，您可以安排应用中的其他组件在单独的进程中运行，并为任何进程创建额外的线程。





## 2、ANR的几种场景





















https://developer.android.com/guide/components/processes-and-threads.html